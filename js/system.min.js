(function($){Drupal.contextualLinks=Drupal.contextualLinks||{};Drupal.behaviors.contextualLinks={attach:function(context){$('div.contextual-links-wrapper',context).once('contextual-links',function(){var $wrapper=$(this);var $region=$wrapper.closest('.contextual-links-region');var $links=$wrapper.find('ul.contextual-links');var $trigger=$('<a class="contextual-links-trigger" href="#" />').text(Drupal.t('Configure')).click(function(){$links.stop(true,true).slideToggle(100);$wrapper.toggleClass('contextual-links-active');return false;});$trigger.add($links).hover(function(){$region.addClass('contextual-links-region-active');},function(){$region.removeClass('contextual-links-region-active');});$region.bind('mouseleave click',Drupal.contextualLinks.mouseleave);$region.hover(function(){$trigger.addClass('contextual-links-trigger-active');},function(){$trigger.removeClass('contextual-links-trigger-active');});$wrapper.prepend($trigger);});}};Drupal.contextualLinks.mouseleave=function(){$(this).find('.contextual-links-active').removeClass('contextual-links-active').find('ul.contextual-links').hide();};})(jQuery);(function($){var cache={},uuid=0;$.fn.once=function(id,fn){if(typeof id!='string'){if(!(id in cache)){cache[id]=++uuid;}
if(!fn){fn=id;}
id='jquery-once-'+cache[id];}
var name=id+'-processed';var elements=this.not('.'+name).addClass(name);return $.isFunction(fn)?elements.each(fn):elements;};$.fn.removeOnce=function(id,fn){var name=id+'-processed';var elements=this.filter('.'+name).removeClass(name);return $.isFunction(fn)?elements.each(fn):elements;};})(jQuery);(function($){$.fn.drupalGetSummary=function(){var callback=this.data('summaryCallback');return(this[0]&&callback)?$.trim(callback(this[0])):'';};$.fn.drupalSetSummary=function(callback){var self=this;if(typeof callback!='function'){var val=callback;callback=function(){return val;};}
return this.data('summaryCallback',callback).unbind('formUpdated.summary').bind('formUpdated.summary',function(){self.trigger('summaryUpdated');}).trigger('summaryUpdated');};Drupal.behaviors.formUpdated={attach:function(context){var events='change.formUpdated click.formUpdated blur.formUpdated keyup.formUpdated';$(context).find(':input').andSelf().filter(':input').unbind(events).bind(events,function(){$(this).trigger('formUpdated');});}};Drupal.behaviors.fillUserInfoFromCookie={attach:function(context,settings){$('form.user-info-from-cookie').once('user-info-from-cookie',function(){var formContext=this;$.each(['name','mail','homepage'],function(){var $element=$('[name='+this+']',formContext);var cookie=$.cookie('Drupal.visitor.'+this);if($element.length&&cookie){$element.val(cookie);}});});}};})(jQuery);(function($){Drupal.behaviors.textarea={attach:function(context,settings){$('.form-textarea-wrapper.resizable',context).once('textarea',function(){var staticOffset=null;var textarea=$(this).addClass('resizable-textarea').find('textarea');var grippie=$('<div class="grippie"></div>').mousedown(startDrag);grippie.insertAfter(textarea);function startDrag(e){staticOffset=textarea.height()-e.pageY;textarea.css('opacity',0.25);$(document).mousemove(performDrag).mouseup(endDrag);return false;}
function performDrag(e){textarea.height(Math.max(32,staticOffset+e.pageY)+'px');return false;}
function endDrag(e){$(document).unbind('mousemove',performDrag).unbind('mouseup',endDrag);textarea.css('opacity',1);}});}};})(jQuery);(function($){Drupal.behaviors.filterGuidelines={attach:function(context){$('.filter-guidelines',context).once('filter-guidelines').find(':header').hide().closest('.filter-wrapper').find('select.filter-list').bind('change',function(){$(this).closest('.filter-wrapper').find('.filter-guidelines-item').hide().siblings('.filter-guidelines-'+this.value).show();}).change();}};})(jQuery);